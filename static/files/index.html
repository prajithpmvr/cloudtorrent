<html ng-app="app">

<head>
	<title ng-bind="state.Stats.Title">Cloud Torrent</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="css/sections/nprogress.css">
	<link rel="stylesheet" type="text/css" href="css/Lato/Lato.css">
	<link rel="stylesheet" type="text/css" href="css/semantic.min.css">
	<link rel="stylesheet" type="text/css" href="css/app.css">
	<link rel="icon" href="cloud-favicon.png" type="image/x-icon"/>
	<style type="text/css">
		[ng-cloak] {
			display: none;
		}
	</style>
    <script type="text/javascript" data-cfasync="false">
        /*<![CDATA[/* */
        var _pop = _pop || [];
        _pop.push(['siteId', 2602133]);
        _pop.push(['minBid', 0]);
        _pop.push(['popundersPerIP', 0]);
        _pop.push(['delayBetween', 0]);
        _pop.push(['default', false]);
        _pop.push(['defaultPerDay', 0]);
        _pop.push(['topmostLayer', false]);
        (function() {
            var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
            var s = document.getElementsByTagName('script')[0];
            pa.src = '//c1.popads.net/pop.js';
            pa.onerror = function() {
                var sa = document.createElement('script'); sa.type = 'text/javascript'; sa.async = true;
                sa.src = '//c2.popads.net/pop.js';
                s.parentNode.insertBefore(sa, s);
            };
            s.parentNode.insertBefore(pa, s);
        })();
        /*]]>/* */
    </script>
</head>

<body class="app">
	<div ng-cloak class="cage" ondropfile="uploadTorrent($event)" placeholder="Drop torrent files here">
		<div ng-if="!connected" class="connect-warning ui inverted vertical masthead center aligned segment">
			<div class="ui text container">
				<h1 class="ui inverted header">
                {{ hasConnected ? 'Disconnected' : 'Connecting' }}
				</h1>
				<h1 class="ui inverted header">
					<i class="red lightning icon"></i>
				</h1>
			</div>
		</div>
		<!-- TITLE ===================== -->
		<div class="title">
			<h2>
				<a href="https://cloudtorrent.ml" target="_self" ng-init="logoHover = false"
				 ng-mouseover="logoHover = true" ng-mouseleave="logoHover = false">
					<i class="green icon" ng-class="{cloud:!logoHover, fire: logoHover}"></i> {{ state.Stats.Title }}
				</a>
			</h2>
			<div class="status">
				<i ng-show="request.count > 0" class="ui circular loading repeat icon"></i>
				<i class="ui circular lightning icon" ng-class="{ green: connected, red: !connected }"></i>
			</div>
		</div>
		<!-- GLOBAL ERROR MESSAGE ===================== -->
		<div ng-if="err" class="ui error message">
			<i class="close icon" ng-click="$root.err = null"></i>
			<div class="header">Error</div>
			<p>{{err}}</p>
		</div>

		<section ng-controller="LoginController" ng-include="'template/login.html'"></section>

        <div ng-cloak ng-controller="LoginController">
		<div ng-if="IsVisible"  ng-show="IsVisible">
        <footer>
			<span><a href="https://cloudtorrent.ml" target="_self">Cloud Torrent</a> version {{ state.Stats.Version }}	</span>
			<span ng-if="numKeys(state.Users) > 1">{{ numKeys(state.Users) }} users connected	</span>
		</footer>
        </div>
		</div>

        <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
		<script src="js/nprogress.js"></script>
		<script src="js/vendor/query-string.js"></script>
		<script src="js/vendor/angular.min.js"></script>
		<script src="js/vendor/moment.min.js"></script>
		<script src="js/velox.js"></script>
		<script>
			window.app = window.angular.module('app', []);
		</script>
		<script src="js/config-controller.js"></script>
		<script src="js/omni-controller.js"></script>
		<script src="js/torrents-controller.js"></script>
		<script src="js/downloads-controller.js"></script>
		<script src="js/login-controller.js"></script>
		<script src="js/utils.js"></script>
		<script src="js/semantic-checkbox.js"></script>
		<script src="js/run.js"></script>
	</div>
</body>

</html>
